<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" >

<title>Git | 李彩雅的个人博客</title>
<meta name="description" content="李彩雅">

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<link rel="shortcut icon" href="https://licaiya.github.io/favicon.ico?v=1656927319439">

<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
<link rel="stylesheet" href="https://unpkg.com/papercss@1.6.1/dist/paper.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<link rel="stylesheet" href="https://licaiya.github.io/styles/main.css">


<script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.5.1/build/highlight.min.js"></script>


<link rel="stylesheet" href="https://unpkg.com/aos@next/dist/aos.css" />


  </head>
  <body>
  
    <nav class="navbar border fixed split-nav">
  <div class="nav-brand">
    <h3><a href="https://licaiya.github.io">李彩雅的个人博客</a></h3>
  </div>
  <div class="collapsible">
    <input id="collapsible1" type="checkbox" name="collapsible1">
    <button>
      <label for="collapsible1">
        <div class="bar1"></div>
        <div class="bar2"></div>
        <div class="bar3"></div>
      </label>
    </button>
    <div class="collapsible-body">
      <ul class="inline">
        
          <li>
            
              <a href="/" class="menu">
                首页
              </a>
            
          </li>
        
          <li>
            
              <a href="/tags" class="menu">
                标签
              </a>
            
          </li>
        
          <li>
            
              <a href="/archives" class="menu">
                归档
              </a>
            
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div id="top" class="row site">
      <div class="sm-12 md-8 col">
        <div class="paper">
          <article class="article">
            <h1>Git</h1>
            <p class="article-meta">
              2022-07-04
              
                <a href="https://licaiya.github.io/tag/git/" class="badge warning">
                  git
                </a>
              
            </p>
            
            <div class="post-content" v-pre>
              <h2 id="git工作流程">Git工作流程</h2>
<p>工作流程如下：</p>
<p>1．从远程仓库中克隆代码到本地仓库</p>
<p>2．从本地仓库中checkout代码然后进行代码修改</p>
<p>3．在提交前先将代码提交到暂存区</p>
<p>4．提交到本地仓库。本地仓库中保存修改的各个历史版本</p>
<p>5．修改完成后，需要和团队成员共享代码时，将代码push到远程仓库</p>
<figure data-type="image" tabindex="1"><img src="https://img-blog.csdnimg.cn/img_convert/60c5c5b2304d37b16ea60e479f9c3004.png" alt="image-20220423195206791" loading="lazy"></figure>
<p>工作目录、暂存区以及版本库概念</p>
<p>版本库：前面看到的.git隐藏文件夹就是版本库，版本库中存储了很多配置信息、日志信息和文件版本信息等</p>
<p>工作目录（工作区）：包含.git文件夹的目录就是工作目录，主要用于存放开发的代码</p>
<p>暂存区：.git文件夹中有很多文件，其中有一个index文件就是暂存区，也可以叫做stage。暂存区是一个临时保存修改文件的地方</p>
<figure data-type="image" tabindex="2"><img src="https://img-blog.csdnimg.cn/img_convert/44727b1e4f57892903a4d097778b3519.png" alt="image-20220423195624005" loading="lazy"></figure>
<p>Git工作目录下文件的两种状态</p>
<p>untracked 未跟踪（未被纳入版本控制）</p>
<p>tracked 已跟踪（被纳入版本控制）</p>
<p>​        Unmodified 未修改状态</p>
<p>​        Modified 已修改状态</p>
<p>​        Staged 已暂存状态</p>
<p>这些文件的状态会随着我们执行Git的命令发生变化</p>
<h2 id="git常用命令">Git常用命令</h2>
<h3 id="环境配置">环境配置</h3>
<p>当安装Git后首先要做的事情是设置用户名称和email地址。这是非常重要的，因为每次Git提交都会使用该用户信息</p>
<p>设置用户信息</p>
<pre><code class="language-git">   git config --global user.name “zhangsan”

   git config --global user.email “888@88.com”
</code></pre>
<p>查看配置信息</p>
<p>要使用Git对我们的代码进行版本控制，首先需要获得Git仓库</p>
<h4 id="在本地初始化一个git仓库">在本地初始化一个Git仓库</h4>
<p>执行步骤如下：</p>
<ol>
<li>
<p>在电脑的任意位置创建一个空目录（例如repo1）作为我们的本地Git仓库</p>
</li>
<li>
<p>进入这个目录中，点击右键打开Git bash窗口</p>
</li>
<li>
<p>执行命令</p>
<pre><code class="language-git">git init
</code></pre>
</li>
</ol>
<p>如果在当前目录中看到.git文件夹（此文件夹为隐藏文件夹）则说明Git仓库创建成功</p>
<h4 id="从远程仓库克隆">从远程仓库克隆</h4>
<p>可以通过Git提供的命令从远程仓库进行克隆，将远程仓库克隆到本地</p>
<pre><code class="language-git">git clone 远程Git仓库地址
</code></pre>
<h4 id="本地仓库操作">本地仓库操作</h4>
<p>查看文件状态</p>
<pre><code class="language-git">git status
git status –s  //输出信息更加简洁
</code></pre>
<p>将未跟踪的文件加入暂存区</p>
<pre><code class="language-git">git add 文件名或目录  // .表示当前目录下所有文件
</code></pre>
<p>已更改文件撤销修改</p>
<pre><code class="language-git">git checkout -- 文件名
</code></pre>
<p>将暂存区的文件取消暂存</p>
<pre><code class="language-git">git reset 文件名或目录
</code></pre>
<p>将暂存区的文件修改提交到本地仓库</p>
<pre><code class="language-git">git commit -m &quot;操作说明&quot;
</code></pre>
<p>删除工作区文件</p>
<pre><code class="language-git">git rm 文件名或目录
</code></pre>
<p>将文件添加至忽略列表</p>
<p>建一个名为 .gitignore 的文件（文件名称固定），列出要忽略的文件模式</p>
<pre><code class="language-git"># no .a files
*.a
# but do track lib.a, even though you're ignoring .a files above
!lib.a
# only ignore the TODO file in the current directory, not subdir/TODO
/TODO
# ignore all files in the build/ directory
build/
# ignore doc/notes.txt, but not doc/server/arch.txt
doc/*.txt
# ignore all .pdf files in the doc/ directory
doc/**/*.pdf
</code></pre>
<p>查看日志记录</p>
<pre><code class="language-git">git log
</code></pre>
<h4 id="远程仓库操作">远程仓库操作</h4>
<p>添加一个新的远程 Git 仓库</p>
<pre><code class="language-git">git remote add 远程仓库名 url  //远程仓库名自己起，一般为origin
</code></pre>
<p>移除无效的远程仓库</p>
<pre><code class="language-git">git remote rm 远程仓库名
</code></pre>
<p>从远程仓库获取最新版本到本地仓库，不会自动merge</p>
<pre><code class="language-git">git fetch 远程仓库名 本地仓库分支名
</code></pre>
<p>从远程仓库获取最新版本并merge到本地仓库</p>
<pre><code class="language-git">git pull 远程仓库名 本地仓库分支名
</code></pre>
<p>注意：如果当前本地仓库不是从远程仓库克隆，而是本地创建的仓库，并且仓库中存在文件，此时再从远程仓库拉取文件的时候会报错（fatal: refusing to merge unrelated histories ），解决此问题可以在git pull命令后加入参数--allow-unrelated-histories</p>
<pre><code class="language-git">git pull 远程仓库名 本地仓库分支名 --allow-unrelated-histories
</code></pre>
<p>推送到远程仓库(如果推送失败，则因为远程分支比你的本地更新，先用git pull抓取远程的新提交)</p>
<pre><code class="language-git">git push 远程仓库名 本地仓库分支名或标签名
</code></pre>
<h4 id="git分支">Git分支</h4>
<p><strong>查看分支</strong></p>
<p>列出所有本地分支</p>
<pre><code class="language-git">git branch
</code></pre>
<p>列出所有远程分支</p>
<pre><code class="language-git">git branch -r
</code></pre>
<p>列出所有本地分支和远程分支</p>
<pre><code class="language-git">git branch -a
</code></pre>
<p>创建分支</p>
<pre><code class="language-git">git branch 分支名
</code></pre>
<p>切换分支</p>
<pre><code class="language-git">git checkout 分支名
</code></pre>
<p>推送至远程仓库分支</p>
<pre><code class="language-git">git push 远程仓库名 本地分支名
</code></pre>
<p>合并分支</p>
<pre><code class="language-git">git merge 本地分支名
</code></pre>
<p>有时候合并操作不会如此顺利。 如果你在两个不同的分支中，对同一个文件的同一个部分进行了不同的修改，Git 就没办法合并它们，同时会提示文件冲突。此时需要我们打开冲突的文件并修复冲突内容，最后执行git add命令来标识冲突已解决</p>
<p>删除分支</p>
<pre><code class="language-git">git branch -d 本地分支名
</code></pre>
<p>如果要删除的分支中进行了一些开发动作，此时执行上面的删除命令并不会删除分支，如果坚持要删除此分支，可以将命令中的-d参数改为-D</p>
<pre><code class="language-git">git branch -D 本地分支名
</code></pre>
<p>如果要删除远程仓库中的分支，可以使用命令git push</p>
<pre><code class="language-git">git 远程仓库名 –d 远程分支名
</code></pre>
<h4 id="标签">标签</h4>
<p>列出所有本地标签</p>
<pre><code class="language-git">git tag
</code></pre>
<p>基于最新提交创建标签</p>
<pre><code class="language-git"> git tag 标签名
</code></pre>
<p>指定标签信息</p>
<pre><code class="language-git"> git tag -a 标签名 -m &quot;说明&quot;
</code></pre>
<p>删除标签</p>
<pre><code class="language-git">git tag -d 标签名
</code></pre>
<h4 id="版本回退">版本回退</h4>
<p>想要回退，Git必须知道当前版本是哪个版本，在Git中，用<code>HEAD</code>表示当前版本，也就是最新的提交<code>1094adb...</code>（注意我的提交ID和你的肯定不一样），上一个版本就是<code>HEAD^</code>，上上一个版本就是<code>HEAD^^</code>，当然往上100个版本写100个<code>^</code>比较容易数不过来，所以写成<code>HEAD~100</code></p>
<pre><code class="language-git">git reset --hard HEAD^
git reset --hard 1094a  //版本号不需要写全
</code></pre>

            </div>
          </article>
        </div>
        <div class="paper" data-aos="fade-in">
          
        </div>
        
      </div>

      <div class="sm-12 md-4 col sidebar">
  <div class="paper info-container">
    <img src="https://licaiya.github.io/images/avatar.png?v=1656927319439" class="no-responsive avatar">
    <div class="text-muted">李彩雅</div>
    <div class="social-container">
      
        
      
        
      
        
      
        
      
        
      
    </div>
  </div>
  <div class="paper">
    <div class="sidebar-title">
      最新文章
    </div>
    <div class="row">
      <ul>
        
          
            <li>
              <a href="https://licaiya.github.io/post/git/">Git</a>
            </li>
          
        
      </ul>
    </div>
  </div>
  <div class="paper">
    <div class="sidebar-title">
      标签列表
    </div>
    <div class="row">
      
        <a href="https://licaiya.github.io/tag/git/" class="badge secondary">
          git
        </a>
      
    </div>
  </div>
  <div class="paper">
    emmm | <a class="rss" href="https://licaiya.github.io/atom.xml" target="_blank">RSS</a>
  </div>
</div>


    </div>

    <script src="https://unpkg.com/aos@next/dist/aos.js"></script>

<script type="application/javascript">

AOS.init();

hljs.initHighlightingOnLoad()

</script>




  </body>
</html>
